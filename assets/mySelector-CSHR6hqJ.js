import{r as d,q as b,i as x,c as l,o,a as n,f as S,t as i,F as h,m as _,h as g,C as y,p as B,v as L}from"./index-CHEkG5_n.js";import"./theoryCreateCard.vue_vue_type_style_index_0_scoped_e8924305_lang-8d9iiHpr.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"multi-select"},M={key:0,class:"placeholder"},N={key:1,class:"selected-tags"},$=["onClick"],j={class:"arrow-icon"},F={key:0,class:"dropdown"},G={class:"options-list"},P=["checked","onChange"],T={__name:"mySelector",props:{allElements:{type:Array,default:()=>[{id:0,name:"ошибка"}]},toggleElements:{type:Array,default:()=>[]},placeholder:{type:String,default:""},nameElements:{type:Array,default:["name"]}},emits:["update:modelValue","change"],setup(v,{emit:k}){const u=v,f=k,c=d(!1),p=d(""),s=d(u.toggleElements),r=d(u.allElements);b(()=>{r.value&&(r.value=r.value.map(t=>({name:u.nameElements.map(e=>t[e]).filter(Boolean).join(" "),...t})))});const E=x(()=>r.value.filter(t=>t.name.toLowerCase().includes(p.value.toLowerCase()))),C=t=>{s.value.some(e=>e.id===t.id)?s.value=s.value.filter(e=>e.id!==t.id):s.value=[...s.value,t],f("update:modelValue",s.value)},w=t=>{s.value=s.value.filter(a=>a.id!==t.id),f("update:modelValue",s.value)},V=()=>{c.value=!c.value};return document.addEventListener("click",t=>{t.target.closest(".multi-select")||(c.value=!1)}),(t,a)=>(o(),l("div",D,[n("div",{class:"select-input",onClick:V},[s.value.length===0?(o(),l("span",M,i(v.placeholder),1)):(o(),l("div",N,[(o(!0),l(h,null,_(s.value,e=>(o(),l("span",{key:e.id,class:"tag"},[g(i(e.name)+" ",1),n("button",{onClick:y(m=>w(e),["stop"]),class:"remove-btn"}," × ",8,$)]))),128))])),n("span",j,i(c.value?"▲":"▼"),1)]),c.value?(o(),l("div",F,[B(n("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),type:"text",placeholder:"Поиск...",class:"search-input",onClick:a[1]||(a[1]=y(()=>{},["stop"]))},null,512),[[L,p.value]]),n("div",G,[(o(!0),l(h,null,_(E.value,e=>(o(),l("label",{key:e.id,class:"option"},[n("input",{type:"checkbox",checked:s.value.find(m=>m.id===e.id),onChange:m=>(C(e),t.$emit("change"))},null,40,P),g(" "+i(e.name),1)]))),128))])])):S("",!0)]))}},Q=A(T,[["__scopeId","data-v-82b7cb6f"]]);export{Q as m};
