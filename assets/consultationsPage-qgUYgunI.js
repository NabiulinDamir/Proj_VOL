import{l as H}from"./loader-CNYaqzXz.js";import{u as $,i as w,p as S}from"./consultation-BgTrRy3i.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{t as g,f as u}from"./format-CMfQEa-o.js";import{r as L,s as B,c as d,a as n,e as b,f as M,b as m,m as e,t as l,F as f,n as y,o as r,p as P,A as N,q as T,h as V}from"./index-CmD-bgp_.js";function W(v,s,i){const _=g(v,i==null?void 0:i.in);return _.setHours(s),_}function q(v,s,i){const _=g(v,i==null?void 0:i.in);return _.setMinutes(s),_}const A={id:"consultationTable_container"},E={id:"control_panel"},F={id:"selector_container"},z={key:1},I={id:"time_container"},R={class:"text_container"},j={id:"date_table_container"},O={id:"date_container"},U={id:"table_container"},h={class:"cons_content text_container_date"},G={class:"info_container"},J={__name:"consultationTable",setup(v){const s=$(),i=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"],_=["пн","вт","ср","чт","пт","сб","вс"],D=L(!1);B(async()=>{D.value=!0,await s.setConsByUser(),D.value=!1});const x=(c,t)=>{const a=i.length*60,o=new Date(c),p=new Date(t);return Math.floor((p-o)/(1e3*60))*100/a},C=c=>{const t=i.length*60,a=W(q(c,0),8),o=new Date(c);return Math.floor((o-a)/(1e3*60))*100/t};return(c,t)=>(r(),d("div",A,[n("div",E,[n("div",F,[t[5]||(t[5]=m(" Начало: ")),n("div",{class:"selected_date_button",onClick:t[0]||(t[0]=a=>{e(s).subtractStartDate()})},"<"),n("div",null,l(e(s).startDate?e(u)(e(s).startDate,"dd.MM.yyyy"):"---"),1),n("div",{class:"selected_date_button",onClick:t[1]||(t[1]=a=>e(s).appendStartDate())},">"),t[6]||(t[6]=m(" Конец: ")),n("div",{class:"selected_date_button",onClick:t[2]||(t[2]=a=>e(s).subtractEndtDate())},"<"),n("div",null,l(e(s).endDate?e(u)(e(s).endDate,"dd.MM.yyyy"):"---"),1),n("div",{class:"selected_date_button",onClick:t[3]||(t[3]=a=>e(s).appendEndtDate())},">")])]),e(s).uploadRequest?(r(),b(H,{key:0})):M("",!0),e(s).uploadRequest?M("",!0):(r(),d("div",z,[n("div",{id:"datetime_time_container",onClick:t[4]||(t[4]=(...a)=>c.sesDefaultDate&&c.sesDefaultDate(...a))},[t[7]||(t[7]=n("div",{id:"datetime_text",class:"text_container"},"дата",-1)),n("div",I,[(r(),d(f,null,y(i,a=>n("div",R,l(a),1)),64))])]),n("div",j,[n("div",O,[(r(!0),d(f,null,y(e(s).Dates,a=>(r(),d("div",{class:P(["text_container text_container_date",{today:e(w)(a,new Date)}])},l(`${e(u)(a,"MM.dd")}(${_[e(u)(a,"e")-1]})`),3))),256))]),n("div",U,[(r(!0),d(f,null,y(e(s).Dates,a=>(r(),d("div",h,[(r(!0),d(f,null,y(e(s).getConsForDate(a),o=>(r(),d("div",{class:"cons_container",style:N({width:x(o.start_time,o.end_time)+"%",left:C(o.start_time)+"%"}),key:o.id},[m(l(`${e(u)(o.start_time,"HH:mm")}-${e(u)(o.end_time,"HH:mm")}`)+" ",1),(r(),b(S,{class:"popover",key:a,isLoading:!1},{content:T(()=>[n("div",G,[t[8]||(t[8]=m(" Группа:")),n("div",null,l(o.group_name),1),t[9]||(t[9]=m(" Предмет:")),n("div",null,l(o.subject_name),1),t[10]||(t[10]=m(" Начало:")),n("div",null,l(e(u)(o.start_time,"HH:mm")),1),t[11]||(t[11]=m(" Конец:")),n("div",null,l(e(u)(o.end_time,"HH:mm")),1)])]),_:2},1024))],4))),128))]))),256))])])]))]))}},K=k(J,[["__scopeId","data-v-893b3f0f"]]),Q={class:"consultationsPage_container"},X={__name:"consultationsPage",setup(v){return(s,i)=>(r(),d("div",Q,[V(K)]))}},at=k(X,[["__scopeId","data-v-e7304ad7"]]);export{at as default};
