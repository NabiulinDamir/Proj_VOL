import{z as t,i as a}from"./index-Y84CQke-.js";import{f as o}from"./format-CMfQEa-o.js";const n={getLabs(e){return t.assignment.filter(r=>r.group_id===e)},getTheory(e){return t.theory_material.filter(r=>r.group_id===e)},async setLab(e){setTimeout(()=>t.assignment.find(r=>r.id===e).title+="hui",1e3)},async GetLabsByGroupAndDisciplineId(e,r){return new Promise(i=>{setTimeout(()=>{i(t.assignment.filter(s=>s.group_id===e&&s.discipline_id==r))},500)})},async GetTheoryByGroupAndDisciplineId(e,r){return new Promise(i=>{setTimeout(()=>{i(t.theory_material.filter(s=>s.group_id===e&&s.discipline_id==r))},500)})},GetTheoryIdForLabById(e){return t.assignment_theory_material.filter(r=>r.assignment_id===e).map(r=>r.theory_material_id)},async GetDeadlinesByGroupId(e,r){return new Promise(i=>{setTimeout(()=>{i(t.deadlines)},500)})}},u=a("AllMaterials",{state:()=>({Labs:[],TheoryMaterial:[],Deadlines:[],group_id:null,selectedDisciplineId:null,navigateLabId:null}),getters:{getTheoryForLabById(){return e=>{const r=n.GetTheoryIdForLabById(e);return this.TheoryMaterial.filter(i=>r.includes(i.id))}},deadlineOnThisDate(){return e=>this.Deadlines.some(r=>r.date.includes(o(e,"yyyy-MM-dd")))},getDedlinesForDate(){return e=>this.Deadlines.filter(r=>r.date.includes(e))}},actions:{async setDeadlines(e){try{this.Deadlines=await n.GetDeadlinesByGroupId(this.group_id,e)}catch(r){console.error("ошибка в запросе к дедлайнам",r)}},async setLabs(){try{console.log("вызов лаб"),this.Labs=await n.GetLabsByGroupAndDisciplineId(this.group_id,this.selectedDisciplineId);return}catch(e){console.error("ошибка в запросе к лабам",e)}},async setTheory(){try{this.TheoryMaterial=await n.GetTheoryByGroupAndDisciplineId(this.group_id,this.selectedDisciplineId);return}catch(e){console.error("ошибка в запросе к теориям",e)}}}});export{u};
