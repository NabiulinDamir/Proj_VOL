import{_ as T}from"./финал 2-DJDNwX4X.js";import{l as B}from"./myButtonOp.vue_vue_type_style_index_0_scoped_ec3437d6_lang-mgYbswUk.js";import{u as L,r as f,c as y,a as t,b as d,d as $,t as U,e as w,f as p,w as b,g as A,o as m,h as u,i as R,n as I}from"./index-CHEkG5_n.js";import{m as x}from"./myButton-FHkUinw1.js";import{m as M}from"./myButtonOp-Dwj4174n.js";import{m as v}from"./myInputText-GY0naDD2.js";import{_ as c}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                 *//* empty css                                                                    */const D={class:"auth_container"},E={class:"message"},F={id:"button_loader_container"},O={__name:"auth",setup(P){const i=L(),g=A(),k=f(""),n=f(!1),l=f("cтудент"),s=async()=>{n.value=!0;const r=await i.userAuth();r.success&&g.push({name:"main"}),k.value=r.message,n.value=!1},C=()=>{l.value==="студент"?l.value="препод":l.value="студент"};return(r,o)=>(m(),y("div",D,[o[6]||(o[6]=t("div",{class:"left_position"},"Почта или логин",-1)),d(v,{id:"login",modelValue:$(i).login,"onUpdate:modelValue":o[0]||(o[0]=V=>$(i).login=V)},null,8,["modelValue"]),o[7]||(o[7]=t("div",{class:"left_position"},"Пароль",-1)),d(v,{id:"password",autocomplete:"user-password",modelValue:$(i).password,"onUpdate:modelValue":o[1]||(o[1]=V=>$(i).password=V)},null,8,["modelValue"]),o[8]||(o[8]=t("div",{class:"helper_container"},[t("label",{class:"checkbox-container"},[t("input",{type:"checkbox",class:"checkbox-input"}),t("span",null,"Не выходить")]),t("div",{class:"opacity-label"},"Забыли пароль?")],-1)),t("div",E,U(k.value),1),t("div",F,[n.value?(m(),w(B,{key:0})):p("",!0),n.value?p("",!0):(m(),w(x,{key:1,class:"button",onClick:s},{default:b(()=>o[4]||(o[4]=[u("Войти")])),_:1})),n.value?p("",!0):(m(),w(M,{key:2,class:"button reg",onClick:o[2]||(o[2]=V=>r.$emit("toReg"))},{default:b(()=>o[5]||(o[5]=[u("Регистрация")])),_:1})),n.value?p("",!0):(m(),w(x,{key:3,class:"button role",onClick:o[3]||(o[3]=V=>($(i).changeRole(),C()))},{default:b(()=>[u(U(l.value),1)]),_:1}))])]))}},j=c(O,[["__scopeId","data-v-6c06ad2b"]]),H={class:"reg_container"},q={class:"split_container"},G={class:"child_container"},J={class:"child_container"},K={class:"message"},Q={key:0,class:"reg_out_container"},W={__name:"reg",emits:["exit"],setup(P,{emit:i}){const g=L(),k=A(),n=f(!1),l=f({firstName:"",surname:"",middleName:"",login:"",password:"",confirmPassword:"",email:""}),s=f(""),C=async()=>{if(o.value){n.value=!0;const N=await g.userReg(l.value);n.value=!1,N.success&&k.push({name:"main"}),s.value=N.message}},r=R(()=>({firstName:l.value.firstName.length<2||l.value.firstName.includes(" "),surname:!l.value.surname.length||l.value.surname.includes(" "),middleName:l.value.middleName.includes(" "),login:s.value==="Пользователь с указанным именем уже существует"||l.value.login.length<5||l.value.login.includes(" "),password:s.value==="Пароли не совпадают"||!l.value.password.length||l.value.password.includes(" "),confirmPassword:s.value==="Пароли не совпадают"||!l.value.confirmPassword.length||l.value.confirmPassword.includes(" "),email:s.value==="Пользователь с указанны email уже существует"||l.value.email.includes(" ")})),o=R(()=>!Object.values(r.value).some(N=>N===!0)),V=()=>{l.value.firstName.length>0&&(l.value.firstName=l.value.firstName[0].toUpperCase()+l.value.firstName.slice(1).toLowerCase())},S=()=>{l.value.surname.length>0&&(l.value.surname=l.value.surname[0].toUpperCase()+l.value.surname.slice(1).toLowerCase())},z=()=>{l.value.middleName.length>0&&(l.value.middleName=l.value.middleName[0].toUpperCase()+l.value.middleName.slice(1).toLowerCase())};return(N,e)=>(m(),y("div",H,[t("div",q,[t("div",G,[e[16]||(e[16]=u(" Почта ")),d(v,{id:"new-email",modelValue:l.value.email,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.email=a),autocomplete:"new-email",placeholder:"govnokrad2003@gmail.com","is-error":r.value.email,onClick:e[1]||(e[1]=a=>s.value="")},null,8,["modelValue","is-error"]),e[17]||(e[17]=u(" Логин ")),d(v,{id:"new-login",modelValue:l.value.login,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.login=a),autocomplete:"off",placeholder:"govnokrad228","is-error":r.value.login,onClick:e[3]||(e[3]=a=>s.value="")},null,8,["modelValue","is-error"]),e[18]||(e[18]=u(" Пароль ")),d(v,{id:"password",modelValue:l.value.password,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.password=a),autocomplete:"new-password","is-error":r.value.password,onClick:e[5]||(e[5]=a=>s.value="")},null,8,["modelValue","is-error"]),e[19]||(e[19]=u(" Повторите пароль ")),d(v,{id:"signup-password-confirm",modelValue:l.value.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.confirmPassword=a),"is-error":r.value.confirmPassword,onClick:e[7]||(e[7]=a=>s.value="")},null,8,["modelValue","is-error"])]),t("div",J,[e[20]||(e[20]=u(" Имя ")),d(v,{id:"name",modelValue:l.value.firstName,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.firstName=a),placeholder:"Иван","is-error":r.value.firstName,onClick:e[9]||(e[9]=a=>s.value=""),onChange:V},null,8,["modelValue","is-error"]),e[21]||(e[21]=u(" Фамилия ")),d(v,{id:"surname",modelValue:l.value.surname,"onUpdate:modelValue":e[10]||(e[10]=a=>l.value.surname=a),placeholder:"Иванов","is-error":r.value.surname,onClick:e[11]||(e[11]=a=>s.value=""),onChange:S},null,8,["modelValue","is-error"]),e[22]||(e[22]=u(" Отчество ")),d(v,{id:"middlename",modelValue:l.value.middleName,"onUpdate:modelValue":e[12]||(e[12]=a=>l.value.middleName=a),placeholder:"Иванович","is-error":r.value.middleName,onClick:e[13]||(e[13]=a=>s.value=""),onChange:z},null,8,["modelValue","is-error"])])]),t("div",K,U(s.value),1),n.value?p("",!0):(m(),y("div",Q,[d(x,{class:I({opasyty:!o.value}),onClick:e[14]||(e[14]=a=>C())},{default:b(()=>e[23]||(e[23]=[u("Регистрация")])),_:1},8,["class"]),d(x,{class:"exit_button",onClick:e[15]||(e[15]=a=>N.$emit("exit"))},{default:b(()=>e[24]||(e[24]=[u("Назад")])),_:1})])),n.value?(m(),w(B,{key:1})):p("",!0)]))}},X=c(W,[["__scopeId","data-v-ec62a3d6"]]),Y={class:"MainContainer"},Z={__name:"AuthPage",setup(P){const i=f(!0),g=f(!1),k=()=>{g.value=!1,i.value=!0},n=()=>{i.value=!1,g.value=!0};return(l,s)=>(m(),y("div",Y,[s[2]||(s[2]=t("img",{class:"web_name",src:T,alt:""},null,-1)),s[3]||(s[3]=t("div",{class:"Text"},"Добро пожаловать!",-1)),i.value?(m(),w(j,{key:0,onToReg:s[0]||(s[0]=C=>n())})):p("",!0),g.value?(m(),w(X,{key:1,onExit:s[1]||(s[1]=C=>k())})):p("",!0)]))}},re=c(Z,[["__scopeId","data-v-60b793c4"]]);export{re as default};
