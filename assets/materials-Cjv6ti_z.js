import{z as t,i as a}from"./index-CBhXWMJI.js";const n={getLabs(e){return t.assignment.filter(i=>i.group_id===e)},getTheory(e){return t.theory_material.filter(i=>i.group_id===e)},async setLab(e){setTimeout(()=>t.assignment.find(i=>i.id===e).title+="hui",1e3)},async GetLabsByGroupAndDisciplineId(e,i){return new Promise(r=>{setTimeout(()=>{r(t.assignment.filter(s=>s.group_id===e&&s.discipline_id==i))},500)})},async GetTheoryByGroupAndDisciplineId(e,i){return new Promise(r=>{setTimeout(()=>{r(t.theory_material.filter(s=>s.group_id===e&&s.discipline_id==i))},500)})},GetTheoryIdForLabById(e){return t.assignment_theory_material.filter(i=>i.assignment_id===e).map(i=>i.theory_material_id)},async GetDeadlinesByGroupId(e,i){return new Promise(r=>{setTimeout(()=>{r(t.deadlines)},500)})}},d=a("AllMaterials",{state:()=>({Labs:[],TheoryMaterial:[],Deadlines:[],group_id:null,selectedDisciplineId:null,navigateLabId:null}),getters:{getTheoryForLabById(){return e=>{const i=n.GetTheoryIdForLabById(e);return this.TheoryMaterial.filter(r=>i.includes(r.id))}},deadlineOnThisDate(){return e=>this.Deadlines.some(i=>i.date.split(" ")[0]===e)},getDedlinesForDate(){return e=>this.Deadlines.filter(i=>i.date.includes(e))}},actions:{async setDeadlines(e){try{this.Deadlines=await n.GetDeadlinesByGroupId(this.group_id,e)}catch(i){console.error("ошибка в запросе к дедлайнам",i)}},async setLabs(){try{this.Labs=await n.GetLabsByGroupAndDisciplineId(this.group_id,this.selectedDisciplineId);return}catch(e){console.error("ошибка в запросе к лабам",e)}},async setTheory(){try{this.TheoryMaterial=await n.GetTheoryByGroupAndDisciplineId(this.group_id,this.selectedDisciplineId);return}catch(e){console.error("ошибка в запросе к теориям",e)}}},persist:!0});export{d as u};
